{% extends 'manager_app/base.html' %}
 {% load admin_urls %}
{% block content %}
<div class='container-fluid'>

    <div class=row>
        <h2 class ='center'>{{ page_title }}</h2>  
    </div>
    <br>
    <div class = 'row'><label class="badge badge-pill badge-primary">Total Value {{ total_value }} {{ currency }}</label>
        <label class="badge badge-pill badge-success">Paid Value {{ total_paid_value }} {{ currency }}</label>
        <label class="badge badge-pill badge-warning">Remaining Value {{ diff }} {{ currency }}</label>
    </div>


    <div class="row">
        <div class="col">
            <div class='container'>
            <h5>Data</h5>
            <table class="table table-bordered table-striped table-dark table-hover table-sm">
                <thead>
                    
                    <tr>
                        
                        <th>Date</th>
                        <th>Title</th>
                        <th>Category</th>
                
                        <th>Amount</th>
              
                        <th>Payment status</th>
                   
                    </tr>
                
                </thead> 
                <tbody>
                    {% for bill in object_list %}
                    <tr class = "table-row" >
                        
                        <td>{{ bill.date_added|date }}</td>
                        <td>{{ bill.title }}</td>
                        <td>{{ bill.tag_category }}</td>
                        <td>{{ bill.final_value }}</td>
                        <td>{{ bill.tag_is_paid }}</td>

                    
                    </tr>
                
                    {% empty %}
                    <tr></tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
    </div>
    <div class="col">
        <div class='container'>
        

        <h2>Analysis</h2>
        
  
        <form method='get'>
            <div class='form-group'>
                <label for="cate_name"><h5>Filter by Category</h5></label>
                <select class = "custom-select my-1 mr-sm-2"
                name = 'cate_name'
               
    
                <option  selected value> -- select an option -- </option>
                <option value=" "> Select</option>

                <option value="HE">HOUSE EXPENSE</option>
                <option value="FE">FACTORY EXPENSE</option>
                <option value="SE">SHOP EXPENSE</option>
                <option value="ME">MISCELLANOUS EXPENSE</option>

                
               
                placeholder="Search Benificiary Name"
              
                 </select>
                

            </div>

            <h5>Date Filter</h5>
            <label for="start_date"><h4>Start Date:</h4></label>
            <input type="date" class = 'form-control' name='start_date' value={{ end_date }} >
            <label for="end_date"><h4>End Date:</h4></label>
            <input type="date" class = 'form-control' name='end_date' value = {{ start_date }} >
            <br>
            <br>
            <button type="submit" class="btn btn-primary">Save</button>
                <a href="{{ request.path }}" class="btn btn-warning">Reset Filters</a>
        </form>
       

          
    </div>
                                         
    </div>
</div>
</div>

{%  endblock %}